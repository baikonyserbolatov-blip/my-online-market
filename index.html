<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Магазин идей и секретов</title>
  <style>
    body {font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f4; color:#222;}
    header {background:#222; color:#fff; padding:15px; text-align:center;}
    nav {display:flex; justify-content:center; gap:20px; margin:15px;}
    nav a {text-decoration:none; color:#222; font-weight:bold; padding:10px 20px; border:2px solid #222; border-radius:8px; background:#fff; transition:0.3s;}
    nav a:hover {background:#222; color:#fff;}
    .container {display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; padding:20px;}
    .item {background:#fff; border-radius:12px; padding:15px; box-shadow:0 2px 6px rgba(0,0,0,0.2);}
    .item img {width:100%; height:200px; object-fit:cover; border-radius:10px;}
    .price {margin:10px 0; font-weight:bold;}
    .reviews {margin-top:15px; padding:10px; background:#f9f9f9; border-radius:8px;}
    .review {border-bottom:1px solid #ddd; padding:5px 0;}
    .review:last-child{border-bottom:none;}
    form {margin-top:10px;}
    input, select, textarea {width:100%; margin:5px 0; padding:8px; border:1px solid #ccc; border-radius:6px;}
    button {padding:8px 15px; background:#222; color:#fff; border:none; border-radius:6px; cursor:pointer;}
    footer {background:#222; color:#fff; text-align:center; padding:20px; margin-top:30px;}
  </style>
</head>
<body>

<header>
  <h1>Добро пожаловать в Магазин</h1>
  <p>Здесь вы найдёте идеи, фильмы, книги и секретные товары</p>
</header>

<nav>
  <a href="index.html">Товары</a>
  <a href="secret.html">Секретный сектор</a>
</nav>

<div class="container" id="products"></div>

<footer>
  <h3>О нас</h3>
  <p>Автор проекта: Я — предлагаю лучшие идеи, книги и товары для мотивации и вдохновения.</p>
  <p>Соцсети: Instagram | Telegram | VK</p>
</footer>

<script>
const items = [
  // IDEAS
  {id:'idea1',cat:'ideas',title:'Шпаргалка успеха',desc:'Практические приёмы для продуктивности. Подходит тем, кто хочет быстрых результатов.',points:88,price:4400,code:'1010',link:'https://medium.com/search?q=Шпаргалка+успеха',img:''},
  {id:'idea2',cat:'ideas',title:'Мини-бизнес на дому',desc:'Пошаговый план запуска малого бизнеса. Отличается простотой и низкими затратами.',points:86,price:4100,code:'1011',link:'https://medium.com/search?q=мини+бизнес+на+дому',img:''},
  {id:'idea3',cat:'ideas',title:'Курс по самоорганизации',desc:'30-дневная программа по формированию привычек. Отличается структурированностью и результативностью.',points:90,price:5000,code:'1012',link:'https://medium.com/search?q=курс+по+самоорганизации',img:''},

  // FILMS
  {id:'film1',cat:'films',title:'Oppenheimer (2023)',desc:'Драма о создании ядерного проекта. Стоит купить за масштаб и глубину.',points:92,price:4550,code:'2010',link:'https://m.vk.com/video-220018529_456244232',img:'https://m.media-amazon.com/images/M/MV5BN2JkMDc5MGQtZjg3YS00NmFiLWIyZmQtZTJmNTM5MjVmYTQ4XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg'},
  {id:'film2',cat:'films',title:'Dune — Part One (2021)',desc:'Эпическая фантастика. Стоит купить за визуал и сюжет.',points:95,price:4350,code:'2011',link:'https://vk.com/video-116989148_456239224',img:'https://upload.wikimedia.org/wikipedia/ru/6/61/%D0%94%D1%8E%D0%BD%D0%B0_%E2%80%94_%D0%A7%D0%B0%D1%81%D1%82%D1%8C_%D0%B2%D1%82%D0%BE%D1%80%D0%B0%D1%8F_%28%D0%BF%D0%BE%D1%81%D1%82%D0%B5%D1%80%29.jpg'},
  {id:'film3',cat:'films',title:'Intouchables (1+1)',desc:'Фильм о дружбе и жизни. Отличается душевностью и юмором.',points:90,price:4000,code:'2012',link:'https://vk.com/video-220018529_456245543',img:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrGSBWIu8ScZkD1myqvj04dTMKRS2tTvn2yUeX694nnv2UlxSt6D8xR9QV_Yy59TBE61E&usqp=CAU'},

  // BOOKS
  {id:'book1',cat:'books',title:'Atomic Habits',desc:'Книга Джеймса Клири о привычках. Отличается практичностью.',points:89,price:4300,code:'3010',link:'https://www.google.com/search?tbm=bks&q=Atomic+Habits+James+Clear',img:'https://m.media-amazon.com/images/I/81kg51XRc1L._UF1000,1000_QL80_.jpg'},
  {id:'book2',cat:'books',title:'The Midnight Library',desc:'Роман Мэтта Хейга. Отличается философским смыслом.',points:88,price:4600,code:'3011',link:'https://www.google.com/search?tbm=bks&q=The+Midnight+Library+Matt+Haig',img:'https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1602190253i/52578297.jpg'},
  {id:'book3',cat:'books',title:'It Ends with Us',desc:'Эмоциональный роман Коллин Гувер. Отличается искренностью.',points:90,price:3900,code:'3012',link:'https://www.google.com/search?tbm=bks&q=It+Ends+with+Us+Colleen+Hoover',img:'https://simg.marwin.kz/media/catalog/product/cache/8d1771fdd19ec2393e47701ba45e606d/i/t/hoover_c_it_ends_with_us.jpg'}
];

const container = document.getElementById('products');

items.forEach(i=>{
  let div=document.createElement('div');
  div.className='item';
  div.innerHTML=`
    ${i.img?`<img src="${i.img}" alt="${i.title}">`:''}
    <h3>${i.title}</h3>
    <p>${i.desc}</p>
    <p class="price">Оценка: ${i.points}/100 | Цена: ${i.price}₸</p>
    <button onclick="buyItem('${i.id}')">Купить</button>
    <div class="reviews" id="reviews-${i.id}">
      <h4>Отзывы</h4>
      <div class="review"><strong>Автор рекомендует:</strong> Этот товар имеет отличную репутацию и проверен мной лично.</div>
    </div>
    <form onsubmit="addReview(event,'${i.id}')">
      <input type="text" name="name" placeholder="Ваше имя" required>
      <select name="stars">
        <option value="5">⭐⭐⭐⭐⭐</option>
        <option value="4">⭐⭐⭐⭐</option>
        <option value="3">⭐⭐⭐</option>
      </select>
      <textarea name="comment" placeholder="Комментарий: почему стоит купить?" required></textarea>
      <button type="submit">Оставить отзыв</button>
    </form>
  `;
  container.appendChild(div);
});

function buyItem(id){
  const item = items.find(x=>x.id===id);
  let code = prompt("Введите код для товара: "+item.title);
  if(code===item.code){ window.open(item.link,'_blank'); }
  else { alert("Неверный код!"); }
}

function addReview(e,id){
  e.preventDefault();
  let f=e.target;
  let name=f.name.value, stars=f.stars.value, comment=f.comment.value;
  let reviews=document.getElementById('reviews-'+id);
  let div=document.createElement('div');
  div.className='review';
  div.innerHTML=`<strong>${name}:</strong> ${'⭐'.repeat(stars)}<br>${comment}`;
  reviews.appendChild(div);
  f.reset();
}
</script>
</body>
</html>
